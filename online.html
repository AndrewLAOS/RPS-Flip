<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Ultimate RPS Flip - Online Mode</title>
<link href="https://fonts.googleapis.com/css2?family=Comfortaa&display=swap" rel="stylesheet" />

<style>
/* ---------- Reset & Base ---------- */
* { box-sizing: border-box; margin:0; padding:0; }
body {
  font-family:'Comfortaa', cursive;
  background: linear-gradient(135deg,#0b1220,#1a1f3d);
  color:#fff;
  display:flex;
  justify-content:center;
  align-items:flex-start;
  min-height:100vh;
  padding:20px;
}
.main-nav ul {
  list-style:none;
  display:flex;
  gap:20px;
  margin-bottom:20px;
}
.main-nav a {
  color:#fff;
  text-decoration:none;
  font-weight:bold;
}
.main-nav a[aria-current="page"] { text-decoration:underline; }

.app { display:flex; width:100%; max-width:1400px; gap:20px; }
.sidebar {
  width:300px;
  display:flex;
  flex-direction:column;
  gap:20px;
}
.brand { text-align:center; margin-bottom:20px; }
.logo { font-size:2.5rem; font-weight:bold; margin-bottom:5px; }
.panel { background:#1c1f3b; border-radius:14px; padding:15px; display:flex; flex-direction:column; gap:10px; }
.small-muted, .small { font-size:0.85rem; color:#aaa; }
.coins-row { display:flex; justify-content:space-between; align-items:center; }
.coin-display { display:flex; gap:5px; align-items:center; }
.value-pill { background:#34495e; padding:4px 8px; border-radius:12px; }
.shop-list, .bot-inventory { display:flex; flex-direction:column; gap:5px; }
.shop-item { display:flex; justify-content:space-between; background:#2c3e50; padding:8px; border-radius:12px; }
.shop-item button { background:#4b6cb7; border:none; border-radius:10px; padding:5px 10px; color:#fff; cursor:pointer; }
.shop-item button:disabled { background:#555; cursor:not-allowed; }
.game-area { flex:1; display:flex; flex-direction:column; gap:15px; }
.top-row { display:flex; gap:15px; }
.status-panel { background:#1c1f3b; border-radius:12px; padding:10px; text-align:center; flex:1; }
.battle-stage { background:#2c3e50; border-radius:14px; padding:20px; display:flex; flex-direction:column; gap:15px; }
.arena { display:flex; justify-content:space-around; align-items:center; gap:15px; flex-wrap:wrap; }
.card { background:#34495e; border-radius:14px; padding:15px; text-align:center; width:120px; }
.icon { font-size:3rem; margin-bottom:5px; }
.choices { display:flex; gap:10px; flex-wrap:wrap; justify-content:center; }
.choice-btn { background:#4b6cb7; border:none; border-radius:12px; padding:10px 15px; cursor:pointer; font-size:1rem; }
.choice-btn:hover { background:#1abc9c; transform:scale(1.05); transition:0.2s; }
.result-banner { text-align:center; font-size:1.2rem; font-weight:bold; min-height:24px; margin-top:10px; }
.confetti-wrap { position:relative; height:0; }
.leave-match { background:#c0392b; margin-top:10px; }
.leave-match:hover { background:#e74c3c; }
input[type="text"] { border-radius:12px; padding:8px; font-size:1rem; border:none; width:150px; }
button { font-family:'Comfortaa', cursive; }
@media(max-width:800px) { .app { flex-direction:column; } .sidebar { width:100%; } .arena { flex-direction:column; } }
</style>
</head>

<body>
<nav class="main-nav">
  <ul>
    <li><a href="index.html">Home</a></li>
    <li><a href="matchchart.html">Matchup Chart</a></li>
    <li><a href="online.html" aria-current="page">Online Mode</a></li>
  </ul>
</nav>

<div class="app">
  <aside class="sidebar">
    <div class="brand">
      <div class="logo">RÎ¨S</div>
      <div>
        <h1>Ultimate RPS Flip</h1>
        <p class="small">Online â€” battle friends with epic items!</p>
      </div>
    </div>

    <div class="panel coins-panel">
      <div class="coins-row">
        <div class="coin-display">
          <div class="coin-icon">ðŸª™</div>
          <div>
            <div class="small-muted">Your Balance</div>
            <div class="coin-text" id="coins-display">0</div>
          </div>
        </div>
        <div class="kv">
          <div class="small-muted">Opponent Coins</div>
          <div class="value-pill mono" id="opponent-coins-display">0</div>
        </div>
      </div>
    </div>

    <div class="panel">
      <div class="small-muted">Shop & Inventory</div>
      <div class="shop-list" id="shop-items"></div>
      <div class="bot-inventory" id="player-inventory-items"></div>
    </div>
  </aside>

  <main class="game-area">
    <div class="top-row">
      <div class="status-panel">
        <div class="label small-muted">Round</div>
        <div class="value big mono" id="round-counter">0</div>
      </div>
      <div class="status-panel">
        <div class="label small-muted">Streak</div>
        <div class="value big mono" id="streak-counter">0</div>
      </div>
    </div>

    <div class="battle-stage" id="battle-stage">
      <div class="arena">
        <div class="card" id="player-card">
          <div class="label mono">You</div>
          <div class="icon" id="player-icon">ðŸ¤”</div>
          <div class="small-muted" id="player-item-name">No item</div>
        </div>

        <div class="vs-area">
          <div class="vs-bubble" id="vs-bubble">
            <div class="mini">VS</div>
          </div>
        </div>

        <div class="card" id="opponent-card">
          <div class="label mono">Opponent</div>
          <div class="icon" id="opponent-icon">ðŸ¤”</div>
          <div class="small-muted" id="opponent-item-name">No item</div>
        </div>
      </div>

      <div class="choices" id="battle-choices"></div>

      <div class="result-banner" id="battle-status"></div>
      <div class="confetti-wrap" id="confetti-wrap"></div>
    </div>

    <div class="panel">
      <button id="btnCreateMatch">Create Match</button>
      <input type="text" id="match-id-input" placeholder="Enter Match ID" />
      <button id="btnJoinMatch">Join Match</button>
      <p id="match-id-display"></p>
      <p id="match-status"></p>
      <button id="btnLeaveMatch" class="leave-match">Leave Match</button>
    </div>
  </main>
</div>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script type="module" src="items.js"></script>
<script type="module" src="online-game.js"></script>

</body>
</html>
