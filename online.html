<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ultimate RPS Flip - Online Mode</title>

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Comfortaa&display=swap" rel="stylesheet">

<style>
  /* ---------- Reset & Base ---------- */
  * { box-sizing: border-box; margin:0; padding:0; }
  body { font-family: 'Comfortaa', cursive; background: linear-gradient(135deg,#0b1220,#1a1f3d); color:#fff; display:flex; justify-content:center; align-items:flex-start; min-height:100vh; padding:20px; }
  h1 { font-size:3rem; text-align:center; margin-bottom:10px; }
  .subtitle { text-align:center; font-size:1.5rem; margin-bottom:20px; color:#ddd; }

  /* ---------- Container ---------- */
  #container { width:100%; max-width:1200px; text-align:center; }

  /* ---------- Buttons & Inputs ---------- */
  .btn { background:#4b6cb7; color:#fff; border:none; border-radius:16px; padding:12px 24px; font-size:1rem; margin:5px; cursor:pointer; transition:.3s; }
  .btn:hover { background:#182848; transform:translateY(-2px); }
  .btn:disabled { background:#555; cursor:not-allowed; }
  input[type="text"] { padding:10px 12px; font-size:1rem; border-radius:12px; border:none; text-align:center; min-width:120px; max-width:220px; margin:5px; }

  /* ---------- Match Controls Flex ---------- */
  .match-controls { display:flex; gap:10px; flex-wrap:wrap; justify-content:center; align-items:center; margin-bottom:15px; }

  /* ---------- Player Area ---------- */
  .player-area { display:flex; justify-content:center; gap:80px; margin:30px 0; flex-wrap:wrap; }
  .player-card { perspective:1200px; display:flex; flex-direction:column; align-items:center; }
  .card-inner { width:220px; height:300px; position:relative; transform-style:preserve-3d; transition: transform .6s; cursor:pointer; }
  .card-inner.flipped { transform:rotateY(180deg); }
  .card-front, .card-back { position:absolute; width:100%; height:100%; border-radius:18px; backface-visibility:hidden; display:flex; justify-content:center; align-items:center; font-size:6rem; }
  .card-front { background:#2c3e50; color:#fff; }
  .card-back { background:#2980b9; color:#fff; transform:rotateY(180deg); }
  .player-name { margin-top:10px; font-weight:bold; font-size:1.5rem; }
  .player-score { font-size:1.2rem; color:#ffd700; margin-top:4px; }

  /* ---------- Choices ---------- */
  #choices { display:flex; justify-content:center; flex-wrap:wrap; gap:20px; margin-top:20px; }
  .choice { width:120px; height:120px; font-size:2.5rem; display:flex; justify-content:center; align-items:center; flex-direction:column; border-radius:18px; background:#34495e; transition:.3s; cursor:pointer; }
  .choice:hover { transform:scale(1.2); background:#1abc9c; }
  .choice-label { margin-top:6px; font-size:1rem; color:#fff; }

  /* ---------- Status ---------- */
  #status-text { margin-top:20px; font-size:1.5rem; min-height:30px; }
  .win-text { color:#00ff00; font-weight:bold; }
  .lose-text { color:#ff4c4c; font-weight:bold; }
  .tie-text { color:#ffd700; font-weight:bold; }

  /* ---------- Loading Spinner ---------- */
  #loading-spinner { border:8px solid #f3f3f3; border-top:8px solid #3498db; border-radius:50%; width:50px; height:50px; animation:spin 1s linear infinite; margin:20px auto; display:none; }
  @keyframes spin { 0%{ transform:rotate(0deg); } 100%{ transform:rotate(360deg); } }

  /* ---------- Leave Button ---------- */
  .leave-match { background:#c0392b; margin-top:10px; }
  .leave-match:hover { background:#e74c3c; }

  /* ---------- Responsive ---------- */
  @media(max-width:700px){
    .player-area { gap:40px; }
    .card-inner { width:160px; height:220px; font-size:4rem; }
    .choice { width:80px; height:80px; font-size:2rem; }
  }
</style>
</head>

<body>
<div id="container">
  <h1>Ultimate RPS Flip</h1>
  <p class="subtitle">Play online against friends or bots!</p>

  <!-- Login Section -->
  <div id="login-section">
    <button id="btnGoogleLogin" class="btn">Sign in with Google</button>
    <p id="login-status"></p>
  </div>

  <!-- Match Section -->
  <div id="match-section" hidden>
    <div class="match-controls">
      <button id="btnCreateMatch" class="btn">Create Match</button>
      <input type="text" id="match-id-input" maxlength="10" placeholder="Enter Match ID">
      <button id="btnJoinMatch" class="btn">Join Match</button>
    </div>
    <p id="generated-match-id"></p>
    <p id="match-status"></p>
    <button id="btnLeaveMatch" class="btn leave-match">Leave Match</button>
  </div>

  <!-- Game Section -->
  <div id="game-section" hidden>
    <div class="player-area">
      <div class="player-card">
        <div class="card-inner" id="player-card-inner">
          <div class="card-front">?</div>
          <div class="card-back" id="player-card-back"></div>
        </div>
        <div class="player-name" id="player-name-label"></div>
        <div class="player-score" id="player-score">0</div>
      </div>

      <div class="player-card">
        <div class="card-inner" id="opponent-card-inner">
          <div class="card-front">?</div>
          <div class="card-back" id="opponent-card-back"></div>
        </div>
        <div class="player-name" id="opponent-name-label">Waiting for opponent...</div>
        <div class="player-score" id="opponent-score">0</div>
      </div>
    </div>

    <div id="choices"></div>
    <div id="status-text">Make your choice!</div>
    <div id="loading-spinner"></div>
  </div>
</div>

<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<!-- Game Logic -->
<script type="module" src="online-game.js"></script>

</body>
</html>
